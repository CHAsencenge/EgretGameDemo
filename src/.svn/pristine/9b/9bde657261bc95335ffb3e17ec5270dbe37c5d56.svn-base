
class Level18 extends egret.DisplayObjectContainer implements egret.DisplayObject {
	public static instance: Level18;
	public _pic: egret.Bitmap;
	public _pic2: egret.Bitmap;
	public _img: Array<egret.Bitmap> = [];
	public _error: egret.Bitmap;
	public _txt: Array<egret.TextField> = [];
	public point1: egret.Point = new egret.Point(240, 455 / 820 * UI.WINSIZE_H);	//文字正确位置坐标点
	public _tag: boolean = false;

	//


	public constructor() {
		super();
		Level18.instance = this;
		// 监听组件创建完毕 也就是场景的外观创建完毕
		this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onEnter, this);
		this.addEventListener(egret.Event.REMOVED_FROM_STAGE, this.onExit, this);

	}


	protected onExit() {
		//必须要加入
	}

	protected onEnter() {
		//-----------------------------------------------------------------------------------------------图片处理
		var myscroller: eui.Scroller = new eui.Scroller();
		myscroller.width = UI.WINSIZE_W;
		myscroller.height = UI.WINSIZE_H;
		this._img["car"] = UI.addPic(this, "car_png", UI.WINSIZE_W , UI.WINSIZE_H / 2, true);
		// this._img["car"].scaleX = 0.5;		this._img["car"].scaleY = 0.5;
		var myGroup :eui.Group = new eui.Group;
		myGroup.width = UI.WINSIZE_W * 2;
		myGroup.height = UI.WINSIZE_H;


		myGroup.addChild(this._img["car"]);
		myscroller.viewport = myGroup;
		myscroller.bounces = false;
		this.addChild(myscroller);
		console.log(myGroup.width,myscroller.viewport.width)

		myscroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,function(){
			console.log("change",myscroller.width,myscroller.viewport.width)
			if ((myscroller.viewport.scrollH) >= myscroller.viewport.width) {
				console.log("滚动到底部了");
			}
			else{
				myscroller.viewport.scrollH+=10;
			}
		},this);
		// console.log(myscroller.viewport.scrollV)
		// myscroller.verticalScrollBar.autoVisibility = false;
		// myscroller.verticalScrollBar.visible = false;


		//-----------------------------------------------------------------------------------------------监听事件
		// myscrollView.addEventListener(egret.Event.CHANGE, this.onChange, this);
		// myscrollView.addEventListener(egret.Event.COMPLETE, this.onComplete, this);



	}

	//-----------------------------------------------------------------------------------------------------监听函数


	protected onChange(sc:eui.Scroller,e: egret.TouchEvent): void {
		console.log("change",sc.width,sc.viewport.width)
		if ((sc.viewport.scrollH + sc.width) >= sc.viewport.width) {
          console.log("滚动到底部了");
        }
		else{
			sc.viewport.scrollH+=10;
		}
	}

	private onComplete(e: egret.TouchEvent): void {
		console.log("ok")
	}


	protected _ok(): void {
		this._pic = UI.addPic(this, "ok_png", UI.WINSIZE_W / 2, UI.WINSIZE_H / 2, true);
		this._pic.scaleX = 0;
		this._pic.scaleY = 0;
		this._pic2 = UI.addPic(this, "check2_png", UI.WINSIZE_W / 2, UI.WINSIZE_H / 2, true);
		this._pic2.scaleX = 0;
		this._pic2.scaleY = 0;
		let tw = egret.Tween.get(this._pic);
		tw.to({ scaleX: 0.4, scaleY: 0.4 }, 1000, egret.Ease.sineIn).to({ scaleX: 0, scaleY: 0 }, 700, egret.Ease.sineIn);
		let tw2 = egret.Tween.get(this._pic2);
		tw2.to({ scaleX: 1, scaleY: 1 }, 1000, egret.Ease.sineIn).to({ scaleX: 0, scaleY: 0 }, 700, egret.Ease.sineIn);
	}

}








